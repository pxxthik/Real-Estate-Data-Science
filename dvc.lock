schema: '2.0'
stages:
  preprocessing_flats:
    cmd: python -m src.data.preprocessing_flats
    deps:
    - path: data/raw/flats.csv
      hash: md5
      md5: 5b4e0ed65c25b51c23850cd035f02ff9
      size: 5724107
    - path: src/data/preprocessing_flats.py
      hash: md5
      md5: 0d102d081b93c25901f04efa24a7d3df
      size: 7546
    outs:
    - path: data/interim/flats.csv
      hash: md5
      md5: 7fafddf7f160febbc67110cc0e66dd85
      size: 5152858
  preprocessing_houses:
    cmd: python -m src.data.preprocessing_houses
    deps:
    - path: data/raw/houses.csv
      hash: md5
      md5: 4681f7c5c507e4195eeba43676843863
      size: 2000313
    - path: src/data/preprocessing_houses.py
      hash: md5
      md5: 27daf06eb84affffe3bff64831f91a88
      size: 7547
    outs:
    - path: data/interim/houses.csv
      hash: md5
      md5: a7092f65c8c6f2aaa0c4ae88189ffc90
      size: 1669348
  merge_flats_and_houses:
    cmd: python -m src.data.merge_flats_and_houses
    deps:
    - path: data/raw/flats.csv
      hash: md5
      md5: 5b4e0ed65c25b51c23850cd035f02ff9
      size: 5724107
    - path: data/raw/houses.csv
      hash: md5
      md5: 4681f7c5c507e4195eeba43676843863
      size: 2000313
    - path: src/data/merge_flats_and_houses.py
      hash: md5
      md5: b6ad53c2dd1937bf91e7dc69b60b675b
      size: 1385
    outs:
    - path: data/interim/gurgaon_properties.csv
      hash: md5
      md5: d10241df4156d67bca7b7f91b5b9e280
      size: 6827515
  preprocessing_level_2:
    cmd: python -m src.data.preprocessing_level_2
    deps:
    - path: data/interim/gurgaon_properties.csv
      hash: md5
      md5: d10241df4156d67bca7b7f91b5b9e280
      size: 6827515
    - path: src/data/preprocessing_level_2.py
      hash: md5
      md5: 03124d3bec0801c4bf1036efb4117849
      size: 7714
    outs:
    - path: data/interim/gurgaon_properties_cleaned_v1.csv
      hash: md5
      md5: eae1ba4996f7d6ae8515aa626abb58e4
      size: 3847283
  feature_engineering:
    cmd: python -m src.features.feature_engineering
    deps:
    - path: data/interim/gurgaon_properties_cleaned_v1.csv
      hash: md5
      md5: eae1ba4996f7d6ae8515aa626abb58e4
      size: 3847283
    - path: data/raw/appartments.csv
      hash: md5
      md5: 0973dd4bd85442c26003fb77c63f3544
      size: 272474
    - path: src/features/feature_engineering.py
      hash: md5
      md5: d6616ddd896ee8e1a844e4ba7f957774
      size: 11410
    outs:
    - path: data/interim/gurgaon_properties_cleaned_v2.csv
      hash: md5
      md5: 12b56b0db89ef2846090e48339912aea
      size: 663907
  outlier_treatment:
    cmd: python -m src.features.outlier_treatment
    deps:
    - path: data/interim/gurgaon_properties_cleaned_v2.csv
      hash: md5
      md5: 12b56b0db89ef2846090e48339912aea
      size: 663907
    - path: src/features/outlier_treatment.py
      hash: md5
      md5: e5f8f0b9f99538a1c5728350d4793270
      size: 4218
    outs:
    - path: data/interim/gurgaon_properties_outlier_treated.csv
      hash: md5
      md5: 86425a6c89a31708a6ccd3bf739830fa
      size: 663023
  missing_value_imputation:
    cmd: python -m src.features.missing_value_imputation
    deps:
    - path: data/interim/gurgaon_properties_outlier_treated.csv
      hash: md5
      md5: 86425a6c89a31708a6ccd3bf739830fa
      size: 663023
    - path: src/features/missing_value_imputation.py
      hash: md5
      md5: 69133b772eb180b5e6e2e9a5ce610571
      size: 6005
    outs:
    - path: data/interim/gurgaon_properties_missing_value_imputation.csv
      hash: md5
      md5: cc7b94b9c58b4f2faea33bcc88ec3804
      size: 368565
  feature_selection:
    cmd: python -m src.features.feature_selection
    deps:
    - path: data/interim/gurgaon_properties_missing_value_imputation.csv
      hash: md5
      md5: cc7b94b9c58b4f2faea33bcc88ec3804
      size: 368565
    - path: src/features/feature_selection.py
      hash: md5
      md5: 2dd10c54de3fa2db5e47d8a7ca87d531
      size: 2805
    outs:
    - path: data/processed/gurgaon_properties_post_feature_selection.csv
      hash: md5
      md5: 7edb1095df5408ccee8c20a59a262db4
      size: 285379
  split_data:
    cmd: python -m src.features.split_data
    deps:
    - path: data/processed/gurgaon_properties_post_feature_selection.csv
      hash: md5
      md5: 7edb1095df5408ccee8c20a59a262db4
      size: 285379
    - path: src/features/split_data.py
      hash: md5
      md5: f7401c426926237e81ef15a475715065
      size: 1507
    params:
      params.yaml:
        split_data.random_state: 123
        split_data.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: a7377501c4c09a9dcaebf40133b2f51e
      size: 57150
    - path: data/processed/train.csv
      hash: md5
      md5: 29b57ebe96fe5f8ed455c14843ba9e35
      size: 228381
  model_building:
    cmd: python -m src.models.model_building
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 29b57ebe96fe5f8ed455c14843ba9e35
      size: 228381
    - path: src/models/model_building.py
      hash: md5
      md5: b0632ba3babb7e07ada2390cbb03dab2
      size: 3393
    params:
      params.yaml:
        model_building.max_depth: 20
        model_building.max_features: sqrt
        model_building.max_samples: 1.0
        model_building.n_estimators: 300
    outs:
    - path: models/real_estate_predictor.pkl
      hash: md5
      md5: 0adb0f8bba4c1edf1b940c2e3c21173f
      size: 73273968
  model_evaluation:
    cmd: python -m src.models.model_evaluation
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: a7377501c4c09a9dcaebf40133b2f51e
      size: 57150
    - path: models/real_estate_predictor.pkl
      hash: md5
      md5: 0adb0f8bba4c1edf1b940c2e3c21173f
      size: 73273968
    - path: src/models/model_evaluation.py
      hash: md5
      md5: dea8d49d3023f8a0c50dd452eddbef4e
      size: 2019
