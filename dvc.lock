schema: '2.0'
stages:
  preprocessing_flats:
    cmd: python -m src.data.preprocessing_flats
    deps:
    - path: data/raw/flats.csv
      hash: md5
      md5: 5b4e0ed65c25b51c23850cd035f02ff9
      size: 5724107
    - path: src/data/preprocessing_flats.py
      hash: md5
      md5: 4fae08faa3cae64b1422b539193d76c8
      size: 7515
    outs:
    - path: data/interim/flats.csv
      hash: md5
      md5: 7fafddf7f160febbc67110cc0e66dd85
      size: 5152858
  preprocessing_houses:
    cmd: python -m src.data.preprocessing_houses
    deps:
    - path: data/raw/houses.csv
      hash: md5
      md5: 4681f7c5c507e4195eeba43676843863
      size: 2000313
    - path: src/data/preprocessing_houses.py
      hash: md5
      md5: 429aa6eaa809c93b1d9c16a8d3fffa50
      size: 7438
    outs:
    - path: data/interim/houses.csv
      hash: md5
      md5: a7092f65c8c6f2aaa0c4ae88189ffc90
      size: 1669348
  merge_flats_and_houses:
    cmd: python -m src.data.merge_flats_and_houses
    deps:
    - path: data/raw/flats.csv
      hash: md5
      md5: 5b4e0ed65c25b51c23850cd035f02ff9
      size: 5724107
    - path: data/raw/houses.csv
      hash: md5
      md5: 4681f7c5c507e4195eeba43676843863
      size: 2000313
    - path: src/data/merge_flats_and_houses.py
      hash: md5
      md5: 472a91e028d24e9f7759adb772273930
      size: 1386
    outs:
    - path: data/interim/gurgaon_properties.csv
      hash: md5
      md5: d5f97cfe3a81ef1d63a190396ddaf74a
      size: 6827515
  preprocessing_level_2:
    cmd: python -m src.data.preprocessing_level_2
    deps:
    - path: data/interim/gurgaon_properties.csv
      hash: md5
      md5: d5f97cfe3a81ef1d63a190396ddaf74a
      size: 6827515
    - path: src/data/preprocessing_level_2.py
      hash: md5
      md5: 96451bc94b20369297d6822e889dcffe
      size: 7741
    outs:
    - path: data/interim/gurgaon_properties_cleaned_v1.csv
      hash: md5
      md5: 546fcbe21a83d75d6d8ff6d1c9e0874c
      size: 3847283
  feature_engineering:
    cmd: python -m src.features.feature_engineering
    deps:
    - path: data/interim/gurgaon_properties_cleaned_v1.csv
      hash: md5
      md5: 546fcbe21a83d75d6d8ff6d1c9e0874c
      size: 3847283
    - path: data/raw/appartments.csv
      hash: md5
      md5: 0973dd4bd85442c26003fb77c63f3544
      size: 272474
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 343927c6a25d935d884b8ea8594663cb
      size: 10451
    outs:
    - path: data/interim/gurgaon_properties_cleaned_v2.csv
      hash: md5
      md5: 274db644cb000da19d25b968061e12e6
      size: 630461
  outlier_treatment:
    cmd: python -m src.features.outlier_treatment
    deps:
    - path: data/interim/gurgaon_properties_cleaned_v2.csv
      hash: md5
      md5: 274db644cb000da19d25b968061e12e6
      size: 630461
    - path: src/features/outlier_treatment.py
      hash: md5
      md5: ac921a9e3154c5b9c164a97f5c4d9b7d
      size: 4116
    outs:
    - path: data/interim/gurgaon_properties_outlier_treated.csv
      hash: md5
      md5: 80b62f7de4c623857f92b685f1921694
      size: 631467
  missing_value_imputation:
    cmd: python -m src.features.missing_value_imputation
    deps:
    - path: data/interim/gurgaon_properties_outlier_treated.csv
      hash: md5
      md5: 80b62f7de4c623857f92b685f1921694
      size: 631467
    - path: src/features/missing_value_imputation.py
      hash: md5
      md5: 7253caf2e25c3da6646567e87354624e
      size: 5487
    outs:
    - path: data/interim/gurgaon_properties_missing_value_imputation.csv
      hash: md5
      md5: 2384d7555685d698587b0ba8cb6f7c06
      size: 337084
  feature_selection:
    cmd: python -m src.features.feature_selection
    deps:
    - path: data/interim/gurgaon_properties_missing_value_imputation.csv
      hash: md5
      md5: 2384d7555685d698587b0ba8cb6f7c06
      size: 337084
    - path: src/features/feature_selection.py
      hash: md5
      md5: 4a4c58755485432a6745f2015d0b923b
      size: 2748
    outs:
    - path: data/processed/gurgaon_properties_post_feature_selection.csv
      hash: md5
      md5: afa94fd133c905f417597fae1a37f39a
      size: 253881
  split_data:
    cmd: python -m src.features.split_data
    deps:
    - path: data/processed/gurgaon_properties_post_feature_selection.csv
      hash: md5
      md5: afa94fd133c905f417597fae1a37f39a
      size: 253881
    - path: src/features/split_data.py
      hash: md5
      md5: 69d3c0f709fed118f343d948883d6cd0
      size: 1463
    params:
      params.yaml:
        split_data.random_state: 123
        split_data.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: a22f8a2a0d9f4159d7e3be29d1089874
      size: 50922
    - path: data/processed/train.csv
      hash: md5
      md5: d00c8511153777e44349961390ea4d93
      size: 203111
  model_building:
    cmd: python -m src.models.model_building
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: d00c8511153777e44349961390ea4d93
      size: 203111
    - path: src/models/model_building.py
      hash: md5
      md5: dd086ce8040792c6c9bd0b11f68365fe
      size: 2820
    params:
      params.yaml:
        model_building.max_depth: 20
        model_building.max_features: sqrt
        model_building.max_samples: 1.0
        model_building.n_estimators: 300
    outs:
    - path: models/real_estate_predictor.pkl
      hash: md5
      md5: d9b4397549ffc1ad0a7a8e5d9c6a7547
      size: 73242191
  model_evaluation:
    cmd: python -m src.models.model_evaluation
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: a22f8a2a0d9f4159d7e3be29d1089874
      size: 50922
    - path: models/real_estate_predictor.pkl
      hash: md5
      md5: d9b4397549ffc1ad0a7a8e5d9c6a7547
      size: 73242191
    - path: src/models/model_evaluation.py
      hash: md5
      md5: 370dd79e675065a98a79b3db7a46f278
      size: 2017
